import{s as f,c as h,g as l,i as o,a as p,t as s,d as x,b as u,e as g,r as b,m as $,f as _,h as w,S as y}from"./chunks/web.d550aea2.js";const k=s('<h2 class="text-2xl font-sans text-slate-50 underline decoration-sky-500 decoration-2"></h2>'),S=s('<p class="text-md font-sans text-slate-50 "></p>'),v=s('<h3 class="text-md font-sans text-slate-50 underline decoration-sky-500 decoration-2 mt-2">Temperature</h3>'),C=s('<p class="text-md font-sans text-slate-50 ">Feels like <!#><!/>\xB0C</p>'),E=s('<p class="text-md font-sans text-slate-50 ">Top of <!#><!/>\xB0C</p>'),j=s('<p class="text-md font-sans text-slate-50 ">Low of <!#><!/>\xB0C</p>'),T=s('<h3 class="text-md font-sans text-slate-50 underline decoration-sky-500 decoration-2 mt-2">Wind</h3>'),W=s('<p class="text-md font-sans text-slate-50 "><!#><!/>km/h</p>'),H=s('<h3 class="text-md font-sans text-slate-50 underline decoration-sky-500 decoration-2 mt-2">Humidity</h3>'),L=s('<p class="text-md font-sans text-slate-50 "><!#><!/>%</p>');function M(d){const[a,r]=f(d,["name","main","description","temp","feels_like","temp_min","temp_max","humidity","wind"]);return h(()=>{console.log(a.wind)}),[(()=>{const t=l(k);return o(t,()=>a.name),t})(),(()=>{const t=l(S);return o(t,()=>a.description),t})(),l(v),(()=>{const t=l(C),i=t.firstChild,n=i.nextSibling,[e,c]=p(n.nextSibling);return e.nextSibling,o(t,()=>a.feels_like,e,c),t})(),(()=>{const t=l(E),i=t.firstChild,n=i.nextSibling,[e,c]=p(n.nextSibling);return e.nextSibling,o(t,()=>a.temp_max,e,c),t})(),(()=>{const t=l(j),i=t.firstChild,n=i.nextSibling,[e,c]=p(n.nextSibling);return e.nextSibling,o(t,()=>a.temp_min,e,c),t})(),l(T),(()=>{const t=l(W),i=t.firstChild,[n,e]=p(i.nextSibling);return n.nextSibling,o(t,()=>a.wind.speed,n,e),t})(),l(H),(()=>{const t=l(L),i=t.firstChild,[n,e]=p(i.nextSibling);return n.nextSibling,o(t,()=>a.humidity,n,e),t})()]}const N=s('<div class="mt-7"><label class="relative block"><span class="sr-only">Search</span><span class="absolute inset-y-0 left-0 flex items-center pl-2"><svg class="h-5 w-5 fill-slate-300" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg" fill="none" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M21 21l-5.197-5.197m0 0A7.5 7.5 0 105.196 5.196a7.5 7.5 0 0010.607 10.607z"></path></svg></span><input class="placeholder:italic placeholder:text-slate-400 block bg-white w-full border border-slate-300 rounded-md py-2 pl-9 pr-3 shadow-sm focus:outline-none focus:border-sky-500 focus:ring-sky-500 focus:ring-1 sm:text-sm" placeholder="Search for your city" type="text" name="search"></label></div>'),P=s('<div class="p-2 m-6"></div>'),q=s(`<p class="text-slate-50">Can't get weather data for that city</p>`),z=s('<div class="flex flex-col items-center bg-sky-900 rounded-xl shadow-2xl border-4 border-teal-500 w-48 h-full m-1"></div>'),A=s('<p class="text-slate-50">Loading...</p>'),B=async d=>{let a=(await(await fetch(`http://api.openweathermap.org/geo/1.0/direct?q=${d}&limit=${1}&appid=5ef72995f1b0fc98f70d7517be811869`)).json())[0];if(a===void 0)throw new Error("Could not get coordinate data");let r=await(await fetch(`https://api.openweathermap.org/data/2.5/weather?lat=${a.lat}&lon=${a.lon}&units=metric&appid=5ef72995f1b0fc98f70d7517be811869`)).json();return{name:r.name,...r.weather[0],...r.main,wind:r.wind,visibility:r.visibility}};function R(){const[d,a]=u(),[r]=g(d,B);return[(()=>{const t=l(N),i=t.firstChild,n=i.firstChild,e=n.nextSibling,c=e.nextSibling;return c.$$keydown=m=>{m.key==="Enter"&&a(m.currentTarget.value)},b(),t})(),(()=>{const t=l(P);return o(t,(()=>{const i=$(()=>!!r.error,!0);return()=>i()?l(q):(()=>{const n=$(()=>!!r(),!0);return()=>n()&&_(y,{get when(){return!r.loading},get fallback(){return l(A)},get children(){const e=l(z);return o(e,_(M,w(r))),e}})})()})()),t})()]}x(["keydown"]);export{R as default};
